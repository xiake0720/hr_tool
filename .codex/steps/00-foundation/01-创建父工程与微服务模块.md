# Step 01：创建父工程与微服务模块（Maven多模块）

## CODEX 执行指令（必须严格照做）
在 `services/` 下创建 Maven 父工程与两个子模块：gateway-service、iam-service。所有文件 UTF-8（无 BOM）。

### 任务清单
1）创建/覆盖 `services/pom.xml`（父 POM）要求：
- packaging=pom
- modules 包含：
    - gateway-service
    - iam-service
- Java：release=25
- Spring Boot：4.x（用 properties 固定版本）
- Spring Cloud：使用 **Boot4 兼容的 release train**（用 properties 固定版本，并通过 dependencyManagement 引入 BOM）
- 统一管理依赖版本（properties）：
    - mysql-connector-j（9.5 线）
    - mybatis-plus spring-boot4 starter
    - spring-kafka
    - spring-data-redis
    - lombok / mapstruct（可选）
- 建议加入 maven-surefire 与 编码参数（确保 UTF-8）

2）为两个子模块创建最小 `pom.xml`：
- 继承父 POM
- 定义 `artifactId` 与 `name`
- gateway-service 引入：
    - spring-boot-starter-web
    - spring-cloud-starter-gateway
    - nacos discovery starter（你选择的 Spring Cloud Alibaba 体系）
- iam-service 引入：
    - spring-boot-starter-web
    - spring-boot-starter-validation
    - spring-boot-starter-security
    - spring-boot-starter-oauth2-resource-server
    - flyway-core
    - mysql-connector-j
    - mybatis-plus boot4 starter
    - spring-boot-starter-data-redis
    - spring-kafka

3）在两个服务下创建启动类（最小可运行）：
- `services/*/src/main/java/.../Application.java`

4）创建最小 `application.yml`：
- gateway-service：端口 8080
- iam-service：端口 8081
- 都预留 nacos 地址配置项（localhost:8848）

### 交付物
- services/pom.xml
- services/gateway-service/pom.xml + 启动类 + application.yml
- services/iam-service/pom.xml + 启动类 + application.yml

### 验收（你必须给出）
- `mvn -q -f services/pom.xml -DskipTests package`
- `mvn -q -f services/gateway-service/pom.xml spring-boot:run`（能启动到监听端口）
- `mvn -q -f services/iam-service/pom.xml spring-boot:run`（能启动到监听端口）

### 禁止扩展
- 不写任何业务接口（只允许 health/actuator 或最小占位）
- 不引入 docker
